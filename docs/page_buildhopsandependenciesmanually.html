<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hopsan: Building the Hopsan Dependencies manually</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hopsan.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hopsan
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_buildhopsandependenciesmanually.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Building the Hopsan Dependencies manually </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page contain instructions for how to build the dependencies manually. You are <b>advised</b> to use the automatic scripts instead. The instructions on this page are <b>very likely outdated</b></p>
<h1><a class="anchor" id="fmilibrary"></a>
Build FMILibrary</h1>
<p>HopsanGenerator depends on some external libraries. Here is a description on how to build them. </p>
<h2><a class="anchor" id="fmulibrary-ubuntu"></a>
Ubuntu</h2>
<ol type="1">
<li>Download FMILibrary-2.0.1-src.zip from <a href="http://www.jmodelica.org/FMILibrary" target="_blank">http://www.jmodelica.org/FMILibrary</a></li>
<li>Unpack the files to HopsanGenerator/Dependencies/FMILibrary-2.0.1</li>
<li>Open a terminal and go to the new folder</li>
<li>Create a build directory: 'mkdir build-fmilib'</li>
<li>Go into the build directory: 'cd build-fmilib'</li>
<li>Run CMake to generate the make files: 'cmake ../'</li>
<li>Build the library: 'make install test'</li>
</ol>
<h2><a class="anchor" id="fmilibrary-windows"></a>
Windows (MinGW)</h2>
<ol type="1">
<li>Download FMILibrary-2.0.1-src.zip from <a href="http://www.jmodelica.org/FMILibrary" target="_blank">http://www.jmodelica.org/FMILibrary</a></li>
<li>Unpack the files to HopsanGenerator/Dependencies/FMILibrary-2.0.1</li>
<li>Download and install cmake-gui from <a href="http://www.cmake.com" target="_blank">http://www.cmake.com</a></li>
<li>Open the CMake GUI</li>
<li>Set 'Where is the source code' to the FMILibrary-2.0.1 folder</li>
<li>Set 'Where to build the binaries' to <code>&lt;yourpath&gt;/FMILibrary-2.0.1/build-fmilib</code></li>
<li>Click on 'Generate'. Choose to create the new direcory. Choose MinGW compiler.</li>
<li>Make sure your MinGW compiler (32-bit or 64-bit) is located in your system PATH variable</li>
<li>Open a terminal, go to the 'build-fmilib' directory and write the following command: 'mingw32-make install'</li>
</ol>
<h1><a class="anchor" id="qwt"></a>
Build Qwt - Qt Widgets for Technical Applications</h1>
<h2><a class="anchor" id="qwt-ubuntu-auto"></a>
Ubuntu (Automatically)</h2>
<p>This will build against your <b>system-version</b> of the Qt libs, if you have a different version in the QtSDK see how to manually build below</p><ol type="1">
<li>Make sure that you have the libqt4-dev package installed. <code>apt-get install libqt4-dev</code><code></code></li>
<li><code>Run the</code>unpackPatchAndBuildQwt.sh` script in Dependencies, it will build Qwt</li>
<li>After a successful compilation you are done. You do not need to install or copy any files. The HopsanGUI.pro file will automatically copy the needed binary files.</li>
</ol>
<h2><a class="anchor" id="qwt-ubuntu-manual"></a>
Ubuntu (Manually)</h2>
<ol type="1">
<li>First download a version &gt;=trunk from <a href="http://sourceforge.net/projects/qwt/files/" target="_blank">http://sourceforge.net/projects/qwt/files/</a></li>
<li>Unpack into the Dependencies directory</li>
<li>The default on Unix is to build only Release mode, if you want to change this (only if you want to debug into qwt), you can do that in the qwtbuild.pri file.<ol type="a">
<li>"Enable debug_and_release + build_all if you want to build both."</li>
</ol>
</li>
<li>Build the qwt project (you can use shadowbuild)</li>
<li>If compiler complains about Qwt not being configured with SVG support, comment the line "QWT_CONFIG += QwtSvg" in qwtconfig.pri</li>
<li>After a successful compilation you are done. You do not need to install or copy any files. The HopsanGUI.pro file will automatically copy the needed binary files.<ol type="a">
<li><em>Note!</em> HopsanGui will have a set of default paths to search for, if you install a newer stable version of QWT you should add this version to the TOP of the defaults list in the HopsanGuiBuild.prf file.</li>
</ol>
</li>
</ol>
<h2><a class="anchor" id="qwt-windows"></a>
Windows (MinGW and VC++)</h2>
<ol type="1">
<li>Run the <code>unpackPatchAndBuildQwt.bat</code> script<ol type="a">
<li>Or download the desired version from <a href="http://sourceforge.net/projects/qwt/files/">http://sourceforge.net/projects/qwt/files/</a> and unpack it into the Dependencies directory</li>
</ol>
</li>
<li>If you are going to build a 64-bit version, then rename the qwt-version directory to qwt-version_64 where "version" is the qwt version number.</li>
<li>Build the Qwt project with QtCreator, make sure that you select the correct compiler. It is <b>very important</b> that you compile with the same compiler as you will use to build Hopsan.<ol type="a">
<li>If the compiler complains about Qwt not being configured with SVG support, comment the line "QWT_CONFIG += QwtSvg" in qwtconfig.pri</li>
</ol>
</li>
<li>After a successful compilation you are done. You do not need to install or copy any files. The HopsanGUI.pro file will automatically copy the needed binary files.<ol type="a">
<li><b>Note!</b> HopsanGui will have a set of default paths to search for, if you install a newer stable version of QWT you should add this version to the TOP of the defaults list in the HopsanGuiBuild.prf file.</li>
</ol>
</li>
</ol>
<h1><a class="anchor" id="pythonqt"></a>
Build PythonQt (Optional)</h1>
<h2><a class="anchor" id="pythonqt-ubuntu-auto"></a>
Ubuntu (Automatically)</h2>
<p>This will build against your <b>system-version</b> of the Qt libs, if you have a different version in the QtSDK see how to manually build below</p><ol type="1">
<li>Make sure that you have the libqt4-dev and the python-dev package installed. "apt-get install libqt4-dev python-dev"<ol type="a">
<li><em>Note!</em> PythonQt will likely not work with Python version &gt;= 3, use 2.7 if you can choose</li>
</ol>
</li>
<li>Run the unpackPatchAndBuildPythonQt.sh script in HopsanGUI/Dependencies, it will build PythonQt, (assumes python 2.7, (second command line arg to change))</li>
<li>After a successful compilation you are done. You do not need to install or copy any files. The HopsanGUI.pro file will automatically copy the needed binary files.</li>
</ol>
<h2><a class="anchor" id="pythonqt-ubuntu-manual"></a>
Ubuntu (Manually)</h2>
<ol type="1">
<li>Install the python-dev package "apt-get install python-dev"<ol type="a">
<li><em>Note!</em> PythonQt will likely not work with Python version &gt;= 3, use 2.7 if you can choose</li>
</ol>
</li>
<li>Download PythonQt from <a href="http://pythonqt.sourceforge.net/" target="_blank">http://pythonqt.sourceforge.net/</a><ol type="a">
<li>Place the ex: PythonQt2.1 directory in HopsanGUI/Dependencies, HopsanGUI.pro will search for it there</li>
</ol>
</li>
<li>Go to the PythonQt directory and open the PythonQt project<ol type="a">
<li>Make sure that you select, (uncomment) "CONFIG += debug_and_release build_all only" in build/common.prf (We need both a debug and a release build)</li>
<li>In build/python.prf, replace the line unix:PYTHON_VERSION=2.6 with your version of Python</li>
<li><b>DEACTIVATE</b> shadow build in both debug and release config</li>
<li>Build the PythonQt project, if you are using a Qt SDK, make sure that you are compiling PythonQt against the same libQt version as the rest of the code. (You may have one version installed in your system and an other in you SDK)</li>
</ol>
</li>
<li>After a successful compilation you are done. You do not need to install or copy any files. The HopsanGUI.pro file will automatically copy the needed binary files.</li>
</ol>
<h2><a class="anchor" id="pythonqt-windows-mingw"></a>
Windows (with MinGW)</h2>
<ol type="1">
<li>Download and install Python 2.7 that can be found at <a href="http://python.org/" target="_blank">http://python.org/</a></li>
<li>Run the <code>unpackPatchAndBuildPythonQt.bat</code> script in the HopsanGUI\Dependencies directory<ol type="a">
<li>If you wish to make a 64 bit build, then append "_64" to the directory name. Example: <code>PythonQt2.1_Qt4.8_64</code></li>
</ol>
</li>
<li>Build PythonQt in release and debug mode with shadowbuild activated. (Both will be build at once, as the auto applied patch will have selected that in the common.prf file)<ol type="a">
<li>It is <b>very important</b> that you compile with the same compiler as you will use to build Hopsan.</li>
</ol>
</li>
<li>After a successful compilation you are done. You do not need to install or copy any files. The HopsanGUI.pro file will automatically copy the needed binary files.</li>
</ol>
<h2><a class="anchor" id="pythonqt-windows-vc"></a>
Windows (with Visual C++) --OBSOLETE Needs update--</h2>
<ol type="1">
<li>Download and install Python 2.6, can be found at <a href="http://python.org/" target="_blank">http://python.org/</a></li>
<li>Download and unzip PythonQt, it is found here: <a href="http://pythonqt.sourceforge.net/" target="_blank">http://pythonqt.sourceforge.net/</a> or check out it direct from its SVN repository, "https://pythonqt.svn.sourceforge.net/svnroot/pythonqt"</li>
<li>Open QT Creator and the PythonQT project. Use release settings. Deactivate shadowbuild.</li>
<li>Go to the project tab and add the following build variables:<br />
PYTHON_PATH = c:\Python26 <br />
PYTHON_LIB = c:\Python26\libs</li>
<li>Add the PythonQt*.*.*\src folder to the "Include Path" in your project.</li>
<li>Build PythonQt in release mode.</li>
<li>If you want to run the tests add the PythonQt*.*.*\lib directory to your path (in build environment)</li>
<li>Add the PYTHONQT_PATH = C:\Users\petno25\Downloads\PythonQt2.0.1 (or whatever your path is), to the HopsanGui build environment</li>
<li>Add the C:\Users\petno25\Downloads\PythonQt2.0.1\lib (or whatever your path is) to the PATH variable in your HopsanGui build environment </li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Sep 16 2019 10:42:36 for Hopsan by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
