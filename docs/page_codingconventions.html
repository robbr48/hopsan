<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hopsan: Hopsan Coding Conventions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hopsan.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hopsan
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_codingconventions.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Hopsan Coding Conventions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following coding conventions are to be used both in HopsanCore and HopsanGUI.</p>
<h1><a class="anchor" id="bracket-style"></a>
Bracket Style</h1>
<ul>
<li>For functions there shall be one line break before the first curly brace.</li>
<li>For if statements, loops and similar, the starting brace shall come at the same line.</li>
<li>Single line statements must always be enclosed in braces.</li>
</ul>
<p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> MyFunction(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b)</div><div class="line">{</div><div class="line">    <span class="keywordtype">int</span> returnValue;</div><div class="line">    <span class="keywordflow">if</span>(a &gt; b) {</div><div class="line">        returnValue = b-a;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a == b) {</div><div class="line">        returnValue = a+b;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> {</div><div class="line">        returnValue = a-b;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> returnValue;</div><div class="line">}</div></div><!-- fragment --><p><b>Note!</b> The previous (deprecated) style is still used in most of the code. The previous style said that "There shall be one line break before all brackets." This style can still be used if it makes the code easier to read.</p>
<p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> MyFunctionWithOldBracketStyle(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b)</div><div class="line">{</div><div class="line">    <span class="keywordtype">int</span> returnValue;</div><div class="line">    <span class="keywordflow">if</span>(a &gt; b)</div><div class="line">    {</div><div class="line">        returnValue = b-a;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        returnValue = a-b;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> returnValue;</div><div class="line">}</div></div><!-- fragment --><p>Exceptions can be made for short one-line code blocks, but are generally not recommended.</p>
<p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span>(a &gt; max) { a = max; }</div></div><!-- fragment --><h1><a class="anchor" id="variables"></a>
Variable Names</h1>
<p>All code shall be self commenting. This means that non-obvious abbreviations shall be avoided. The purpose of a variable shall be well described by its name. Exceptions are component equations, where the physical denotation of the variable is to be used.</p>
<p><b>Correct:</b> </p><ol type="1">
<li>currentTimeStep</li>
<li>distanceToCenter</li>
<li>Kc</li>
<li>rho</li>
</ol>
<p><b>Incorrect:</b> </p><ol type="1">
<li>cTimeStep</li>
<li>cTstep</li>
<li>distToC</li>
<li>distC</li>
<li>flowCoefficient</li>
<li>oilDensity</li>
</ol>
<p>Variables begin with small letters, while every new word in the name shall be capitalized.</p>
<p><b>Correct:</b> </p><ol type="1">
<li>someHopsanVariable</li>
</ol>
<p><b>Incorrect:</b> </p><ol type="1">
<li>somehopsanvariable</li>
<li>SomeHopsanVariable</li>
</ol>
<p>Certain variables shall have one or more small description letters prepended:</p>
<ol type="1">
<li>g = Global variable (can be used anywhere in program)</li>
<li>m = Member variable (can only be used in the current class)</li>
<li>p = Pointer</li>
</ol>
<p><em>Optional:</em> </p><ol type="1">
<li>v = Vector (array)</li>
<li>n = Number variable</li>
</ol>
<p>More than one letter can be used at a time. When these letters are prepended, the first letter in the actual variable name shall be capitalized.</p>
<p><b>Examples:</b> </p><ol type="1">
<li>mSomeHopsanVariable (member variable)</li>
<li>mpSomeHopsanVariable (member pointer)</li>
<li>vpDataVariables (vector with pointers in each element)</li>
<li>mpvDataVariables (member pointer to vector)</li>
<li>gSomeHopsanVariable (global variable)</li>
<li>nThreads (variable describing "number of threads")</li>
</ol>
<p>All global variables, member variables, pointers and number variables should have these prepended letters. An exception is made for public variables used in a data struct (public class) when its main purpose is to act as a simple data container.</p>
<p><b>Example:</b> </p><div class="fragment"><div class="line"><span class="keyword">struct </span>Message</div><div class="line">{</div><div class="line">    <span class="keywordtype">int</span> type;</div><div class="line">    <span class="keywordtype">string</span> text;</div><div class="line">}</div><div class="line">Message myMessage;</div></div><!-- fragment --><ol type="1">
<li>myMessage.type (will return the type id of the message) </li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Sep 16 2019 10:42:36 for Hopsan by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
