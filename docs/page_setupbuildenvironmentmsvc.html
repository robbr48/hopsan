<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hopsan: Setting up the MSVC++ (The Microsoft Visual C++ Compiler) environment</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hopsan.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hopsan
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_setupbuildenvironmentmsvc.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Setting up the MSVC++ (The Microsoft Visual C++ Compiler) environment </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Note! This guide is not up to date. Also in only covers MSVC2008 and 2010, for newer versions you are on your own</b></p>
<p>This guide describes what you need to install to be able to build MSVC2008 and MSVC2010 versions of the HopsanCore If you do not need both of them, then read the guide first, then install the version that you want. The MSVC compiler is needed if you want to compile the HopsanCore or component libraries that works with certain other programs, such as Matlab/Simulink.</p>
<p><b>Do NOT!</b> install the Microsoft Visual Studio 2010 Express development environment, it will not work with the build scripts (at least on 64-bit Windows). You should use the Windows SDKs instead.</p>
<p>If you have previous installations of Microsoft Windows SDKs installed you need to uninstall them and all traces of Microsoft Visual C++ Compilers (not redistributable packages), "Application Verifier", "Debugging Tools for Windows" and "Performance Toolkit" (and maybe others). Otherwise Windows SDK installation may/will fail if newer versions of these components are already installed).</p>
<ol type="1">
<li>Download and install the "Microsoft Windows SDK for Windows 7 and .NET Framework 3.5 SP1" (Windows SDK 7.0) from <a href="http://www.microsoft.com/downloads/en/default.aspx " target="_blank">Microsoft Download Center</a>. You don't need to install the .NET stuff, but make sure that you install the "Debugging Tools for Windows"</li>
<li>(Optional if you want to be able to debug) If you are using a 64-bit OS you will also need to install the 32-bit version of the debugging tools. The SDK will automatically only install the 64-bit version. If you can not get the newest version manually then select version 6.11.1.404 from the archive downloads list that you can find <a href="http://msdn.microsoft.com/en-us/windows/hardware/gg463009" target="_blank">here</a>. This link does no longer seem to contain the needed file though.</li>
<li>Pay attention to the messages in the last window in the installation, if you have an error here you will have to remove the conflicting version and then reinstall the SDK components that failed.</li>
<li>Repeat the above for "Microsoft Windows SDK for Windows 7 and .NET Framework 4" (Windows SDK 7.1)<ol type="a">
<li>If you are unable to install the Visual Compilers (because a newer version already seems to be installed) see Microsoft KB2519277 for a patch.<ol type="i">
<li>First install the Windows SDK 7.1 without compilers, then run the patch file to reinstall compilers.</li>
<li>The issue is most likely cause by you having previously installed "MS Visual Studio 2010 Express SP1"</li>
<li>Unfortunately the KB2519277 patch is missing files, this is also a known bug that will no be fixed by Microsoft (official statement)</li>
<li>Now go to add/remove programs and uninstall all Microsoft Visual C++ 2010 compilers</li>
<li>Hopefully you will now be able to reinstall Windows SDK 7.1 with compilers (which have a slightly older version then those that came with Visual Studio and KB2519277)</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>If you get an error about "cl.exe" not being found when building, then the "Visual Studio 9.0/VC/bin" or "Visual Studio 10.0/VC/bin" folder has not been added to your PATH system environment variable.</p><ol type="1">
<li>Note! the release build script should do this automatically, adding the path manually is not recommended as that could mean that the wrong version will be used when you try to compile for a different MSVC version.</li>
</ol>
<p>To get a working MSVC debugger in Qt creator</p><ol type="1">
<li>Go into Tools-&gt;Options-&gt;Debugger-&gt;Cdb and check the Cdb box. Now set the path to the Debugging tools for Windows 32-bit version. (Autodetect should work).</li>
<li>If you want the debugger to automatically download debugger symbols for the Windows libraries, then create a folder, eg. <code>C:\websymbols</code> and add the following line to "Symbol Paths:" under the Cdb tab: "SRV*c:\websymbols*http://msdl.microsoft.com/download/symbols" (without quotes). You websymbols folder will act as a cache for symbol retrieval. </li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Sep 16 2019 10:42:36 for Hopsan by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
