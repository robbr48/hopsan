<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hopsan: Animation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hopsan.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hopsan
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('userAnimationPage.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Animation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Hopsan models can be animated, either in real-time or as replays. Animation is accessed through the Animate icon in the simulation toolbar, or from the menus.</p>
<p> <table style="border-spacing: 20px 10px" border="0"> 
  <tr><td><img src="../graphics/animation_icon.png" border=0></td><td><b> Animate</b></td></tr> 
  </table>   This opens the model in animation mode. There is a toolbar where it is possible to replay, rewind, stop or play in real-time. Animation speed can also be adjusted. Some animation parameters can be adjusted by the parameters icon, or by double-clicking on movable icons in the workspace.</p>
<h1><a class="anchor" id="xmlFormat"></a>
XML Format</h1>
<p>The animation pattern for a component is described by a tag in the component's XML file, typically looking like this:</p>
<pre class="fragment">&lt;animation&gt;
    &lt;icon userpath="base.svg"/&gt;
    &lt;movable idx="0"&gt;
        &lt;icon userpath="movable1.svg"/&gt;
        &lt;data port="P1" dataname="Position"/&gt; 
        &lt;multiplier name="parameter1"/&gt;
        &lt;start x="0" y="0" a="0"/&gt;
        &lt;movement x="10" y="0" a="0"/&gt;
        &lt;initscale x="1" y="1"/&gt;
        &lt;resize x="0.5" y="0"/&gt;
        &lt;adjustable xmin="-40" xmax="40" ymin="0" ymax="0" port="in" dataname="Value" xgain="0.00025" ygain="0"/&gt;
        &lt;movingport portname="P1" startx="100" starty="20"/&gt;
    &lt;/movable&gt;
    &lt;movable idx="1"&gt;
        &lt;icon userpath="movable2.svg"/&gt;
        &lt;data port="P2" dataname="Angle"/&gt; 
        &lt;divisor name="parameter2"/&gt;
        &lt;start x="0" y="0" a="0"/&gt;
        &lt;transformorigin x="5" y="7"/&gt;
        &lt;movement x="0" y="0" a="1"/&gt;
        &lt;relative idx="0"/&gt;
        &lt;initcolor r="0" g="0" b="255"/&gt;
        &lt;color r="-0.00001275" g="0" b="0.00001275" idx="1"/&gt;
    &lt;/movable&gt;
&lt;/animation&gt;
</pre><p><b>&lt;animation&gt;</b><br />
Main tag for animations</p>
<p><b>&lt;icon&gt;</b><br />
 Used to define the icon, either base icon (that is not moving) or a moving icon, if placed inside a &lt;movable&gt; tag</p>
<p><b>&lt;movable&gt;</b><br />
 Defines a movable, i.e. an icon that moves somehow. Index number can be specified if required (see relative movement below).</p>
<p><b>&lt;data&gt;</b><br />
Defines the data variable that is used to calculate the positions for the movement</p>
<p><b>&lt;multiplier&gt;</b><br />
Adds a parameter multiplier. Data from the data variable will be multiplied with the value from this parameter.</p>
<p><b>&lt;divisor&gt;</b><br />
Adds a parameter divisor. Data from the data variable will be divided with the value from this parameter.</p>
<p><b>&lt;start&gt;</b><br />
Defines the start position for the movable in horizontal, vertical and rotational dimensions.</p>
<p><b>&lt;movement&gt;</b><br />
Defines the movement factors for horizontal, vertical and rotational direction. Position will be the start position added by the movement factor times the data variable.</p>
<p><b>&lt;transformorigin&gt;</b><br />
Specifies transform origin for rotating movables.</p>
<p><b>&lt;initscale&gt;</b><br />
Defines the initial scale of the movable. Only needed when the &lt;resize&gt; tag is used.</p>
<p><b>&lt;resize&gt;</b><br />
Defines the resize factors for horizontal and vertical directions. Movable size will be the initscale added by the resize factor times the data variable.</p>
<p><b>&lt;adjustable&gt;</b><br />
Defines that the movable will be adjustable by the user during real-time animation. Specified variable in specified port will get the value from the position of the movable multiplied by the gain value.</p>
<p><b>&lt;movingport&gt;</b><br />
Specifies that a port shall follow with the movable, starting at specified coordinates.</p>
<p><b>&lt;relative&gt;</b><br />
Specifies that this movable moves relative to the movable with specified index. Position and rotation of this movable will be added to those of the other movable.</p>
<p><b>&lt;initcolor&gt;</b><br />
Specifies initial colors for the movable. The SVG icon should be black for this to work properly.</p>
<p><b>&lt;color&gt;</b><br />
Specifies the color factors for the movable. Red, green, blue and alpha channel will change with the data variable multiplied by these factors. Be careful so that values will not become outside the 0:255 range. Colors outside are not defined. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Sep 16 2019 10:42:36 for Hopsan by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
